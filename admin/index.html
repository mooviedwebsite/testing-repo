<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Admin Panel - GitHub CMS</title>
    <link rel="stylesheet" href="../css/admin.css">
</head>
<body>
    <!-- Auth Screen -->
    <div id="auth-screen" class="auth-screen">
        <div class="auth-container">
            <h1>üîê Admin Login</h1>
            <p>Enter your GitHub Personal Access Token</p>
            <input type="password" id="token-input" placeholder="ghp_xxxxxxxxxxxx">
            <input type="text" id="repo-input" placeholder="username/repository">
            <button id="login-btn" class="btn-primary">Login</button>
            <div class="auth-help">
                <a href="https://github.com/settings/tokens" target="_blank">Generate Token</a>
            </div>
        </div>
    </div>

    <!-- Admin Panel -->
    <div id="admin-panel" class="admin-panel" style="display: none;">
        <!-- Sidebar -->
        <aside class="sidebar">
            <div class="sidebar-header">
                <h2>GitHub CMS</h2>
            </div>
            <nav class="sidebar-nav">
              <a href="#" class="nav-item" data-page="users">
    <span class="icon">üë•</span>
    <span>Users</span>
</a>
<a href="#" class="nav-item" data-page="payments">
    <span class="icon">üí≥</span>
    <span>Payments</span>
</a>
<a href="#" class="nav-item" data-page="activities">
    <span class="icon">üìä</span>
    <span>Activities</span>
</a>
<a href="#" class="nav-item" data-page="payment-config">
    <span class="icon">‚öôÔ∏è</span>
    <span>Payment Setup</span>
</a>
            </nav>
        </aside>

        <!-- Main Content -->
        <main class="main-content">
            <!-- Top Bar -->
            <header class="topbar">
                <h1 id="page-title">Dashboard</h1>
                <div class="topbar-actions">
                    <button id="sync-btn" class="btn-icon" title="Sync with GitHub">üîÑ</button>
                    <a href="../index.html" target="_blank" class="btn-icon" title="View Site">üåê</a>
                </div>
            </header>

            <!-- Content Area -->
            <div class="content-area">
                <!-- Dashboard Page -->
                <div id="dashboard-page" class="page active">
                    <div class="stats-grid">
                        <div class="stat-card">
                            <div class="stat-icon">üìù</div>
                            <div class="stat-info">
                                <h3 id="total-posts">0</h3>
                                <p>Total Posts</p>
                            </div>
                        </div>
                        <div class="stat-card">
                            <div class="stat-icon">üìÑ</div>
                            <div class="stat-info">
                                <h3 id="total-pages">0</h3>
                                <p>Pages</p>
                            </div>
                        </div>
                        <div class="stat-card">
                            <div class="stat-icon">üñºÔ∏è</div>
                            <div class="stat-info">
                                <h3 id="total-media">0</h3>
                                <p>Media Files</p>
                            </div>
                        </div>
                        <div class="stat-card">
                            <div class="stat-icon">‚≠ê</div>
                            <div class="stat-info">
                                <h3 id="avg-rating">0</h3>
                                <p>Avg Rating</p>
                            </div>
                        </div>
                    </div>

                    <div class="recent-activity">
                        <h3>Recent Activity</h3>
                        <div id="activity-list" class="activity-list"></div>
                    </div>
                </div>

                <!-- Posts Page -->
                <div id="posts-page" class="page">
                    <div class="page-header">
                        <button id="create-post-btn" class="btn-primary">+ Create New Post</button>
                        <input type="text" id="posts-search" placeholder="Search posts...">
                    </div>

                    <div id="posts-list" class="data-table"></div>
                </div>

                <!-- Pages Page -->
                <div id="pages-page" class="page">
                    <div class="page-header">
                        <button id="create-page-btn" class="btn-primary">+ Create New Page</button>
                    </div>
                    <div id="pages-list" class="data-table"></div>
                </div>

                <!-- Media Page -->
                <div id="media-page" class="page">
                    <div class="page-header">
                        <button id="upload-media-btn" class="btn-primary">+ Upload Media</button>
                        <input type="file" id="media-upload-input" accept="image/*" multiple style="display: none;">
                    </div>
                    <div id="media-grid" class="media-grid"></div>
                </div>

                <!-- Settings Page -->
                <div id="settings-page" class="page">
                    <div class="settings-section">
                        <h3>Site Settings</h3>
                        <div class="form-group">
                            <label>Site Name</label>
                            <input type="text" id="site-name" class="form-control">
                        </div>
                        <div class="form-group">
                            <label>Tagline</label>
                            <input type="text" id="site-tagline" class="form-control">
                        </div>
                        <div class="form-group">
                            <label>Theme</label>
                            <select id="site-theme" class="form-control">
                                <option value="dark">Dark</option>
                                <option value="light">Light</option>
                            </select>
                        </div>
                        <button id="save-settings-btn" class="btn-primary">Save Settings</button>
                    </div>
                </div>
            </div>
        </main>
    </div>
<!-- Users Page -->
<div id="users-page" class="page">
    <div class="page-header">
        <h2>All Users</h2>
        <input type="text" id="users-search" placeholder="Search users...">
    </div>
    <div id="users-table" class="data-table"></div>
</div>

<!-- Payments Page -->
<div id="payments-page" class="page">
    <div class="page-header">
        <h2>Pending Payments</h2>
        <button id="refresh-payments" class="btn-secondary">Refresh</button>
    </div>
    <div id="payments-list" class="data-table"></div>
</div>

<!-- Activities Page -->
<div id="activities-page" class="page">
    <div class="page-header">
        <h2>User Activities</h2>
        <select id="activity-filter">
            <option value="">All Activities</option>
            <option value="login">Logins</option>
            <option value="comment">Comments</option>
            <option value="payment">Payments</option>
        </select>
    </div>
    <div id="activities-list" class="activity-list"></div>
</div>

<!-- Payment Configuration Page -->
<div id="payment-config-page" class="page">
    <div class="settings-section">
        <h3>Payment Configuration</h3>
        
        <h4>PayPal Settings</h4>
        <div class="form-group">
            <label>PayPal Email</label>
            <input type="email" id="paypal-email" class="form-control" placeholder="your-paypal@email.com">
        </div>

        <h4>Bank Transfer Details</h4>
        <div class="form-group">
            <label>Bank Name</label>
            <input type="text" id="bank-name" class="form-control">
        </div>
        <div class="form-group">
            <label>Account Number</label>
            <input type="text" id="bank-account" class="form-control">
        </div>
        <div class="form-group">
            <label>Account Name</label>
            <input type="text" id="bank-account-name" class="form-control">
        </div>
        <div class="form-group">
            <label>Swift/BIC Code</label>
            <input type="text" id="bank-swift" class="form-control">
        </div>

        <button id="save-payment-config" class="btn-primary">Save Payment Settings</button>
    </div>
</div>
    <!-- Post Editor Modal -->
    <div id="post-editor-modal" class="modal">
        <div class="modal-content modal-large">
            <div class="modal-header">
                <h2 id="editor-title">Create New Post</h2>
                <button class="modal-close">&times;</button>
            </div>
            <div class="modal-body">
                <div class="editor-layout">
                    <div class="editor-form">
                        <div class="form-group">
                            <label>Title *</label>
                            <input type="text" id="post-title" class="form-control" placeholder="Post title">
                        </div>

                        <div class="form-row">
                            <div class="form-group">
                                <label>Category *</label>
                                <select id="post-category" class="form-control">
                                    <option>Action</option>
                                    <option>Drama</option>
                                    <option>Sci-Fi</option>
                                    <option>Horror</option>
                                    <option>Comedy</option>
                                </select>
                            </div>
                            <div class="form-group">
                                <label>Year *</label>
                                <input type="number" id="post-year" class="form-control" value="2024">
                            </div>
                            <div class="form-group">
                                <label>Rating *</label>
                                <input type="number" id="post-rating" class="form-control" step="0.1" min="0" max="10" value="7.5">
                            </div>
                        </div>

                        <div class="form-group">
                            <label>Tags (comma separated)</label>
                            <input type="text" id="post-tags" class="form-control" placeholder="tag1, tag2, tag3">
                        </div>

                        <div class="form-group">
                            <label>Thumbnail URL</label>
                            <input type="text" id="post-thumbnail" class="form-control" placeholder="https://...">
                        </div>

                        <div class="form-group">
                            <label>Banner URL (optional)</label>
                            <input type="text" id="post-banner" class="form-control" placeholder="https://...">
                        </div>

                        <div class="form-group">
                            <label>Content *</label>
                            <div class="editor-toolbar">
                                <button type="button" class="toolbar-btn" onclick="insertHTML('<h2>', '</h2>')">H2</button>
                                <button type="button" class="toolbar-btn" onclick="insertHTML('<h3>', '</h3>')">H3</button>
                                <button type="button" class="toolbar-btn" onclick="insertHTML('<strong>', '</strong>')">B</button>
                                <button type="button" class="toolbar-btn" onclick="insertHTML('<em>', '</em>')">I</button>
                                <button type="button" class="toolbar-btn" onclick="insertHTML('<p>', '</p>')">P</button>
                            </div>
                            <textarea id="post-content" class="form-control editor-textarea" rows="15"></textarea>
                        </div>

                        <div class="form-group">
                            <label>
                                <input type="checkbox" id="post-published" checked>
                                Published
                            </label>
                        </div>
                    </div>

                    <div class="editor-preview">
                        <h4>Preview</h4>
                        <div id="content-preview" class="preview-container"></div>
                    </div>
                </div>
            </div>
            <div class="modal-footer">
                <button id="save-post-btn" class="btn-primary">Save Post</button>
                <button class="btn-secondary modal-close">Cancel</button>
            </div>
        </div>
    </div>

    <script src="../js/github-api.js"></script>
    <script src="../js/admin.js"></script>
</body>
</html>
